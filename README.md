# Swimming_performance_analyses
Workflow scripts for extract kinematics of escape swimming performance from high-speed camera videos.
This workflow has been used to obtain the final values ​​of the kinematic endpoints used in the study. _"Sub-lethal effects of natural cyanobacterial blooms on fish: Enzymatic activity and swimming performance in the three-spined stickleback"_ submitted to Harmful Algae.

- Author: Francesco Masnadi
- Supervisors: Agnes M.L. Karlson; Valentina Di Santo

**Behavioral endpoints: kinematics of escape swimming performance**

Sampled fish were carefully transferred to a transparent filming arena (36 × 36 × 12 cm; 15 L volume) and allowed to acclimate for 30 minutes prior to experimentation. Following acclimation, their escape response kinematics were recorded in ventral view using a high-speed Chronos 1.2 camera (Krontech) operating at 1000 frames per second, as described in Di Santo et al., 2021. The C-start escape response, a crucial anti-predator maneuver, consists of an initial rapid body bend followed by a forceful propulsive stroke and is conventionally divided into three distinct phases (Weihs, 1973). However, given their primary role in determining escape efficiency, we focused on the first two phases—the preparatory stroke (Phase 1) and the propulsive stroke (Phase 2)—which dictate initial acceleration and directional thrust (Danos & Lauder, 2012; Roche et al., 2023; Walker et al., 2005). High-speed video recordings were digitized and analyzed using MATLAB (MathWorks, MA, USA), employing Direct Linear Transformation (DLT) algorithms to accurately reconstruct kinematic parameters. Five points along the fish midline were digitized every 2 ms: tip of the snout, midline of pectoral fins, anal fin, caudal peduncle, and tip of the caudal fin. Pixel distances were converted to centimeters using ImageJ, with a reference video containing a millimeter ruler as a standard. The following swimming performance kinematics were chosen as behavioral endpoints based on established pillar references (Danos & Lauder, 2012; Domenici & Blake, 1997) and studies specific to sticklebacks (Makaras et al., 2021; Makaras & Stankevičiūtė, 2022): average center-of-mass (COM) velocity (cm s-1), average angular velocity (° s-1), total distance (cm), and total duration (ms). The average COM velocity is defined as the average distance traveled by the body center point per unit of time, representing the overall swimming efficiency and speed of the escape response, which is crucial for survival during predator attacks. The angular velocity is defined as the average rate of change in direction of the moving body point per unit of time, irrespective of the direction of change, representing the fish's ability to rapidly change direction in the presence of a threat. The total distance is defined as the linear distance traveled by the center of mass during the escape response and represents the overall effectiveness of movement away from a threat. The total duration is defined as the time elapsed from the beginning of the preparatory stroke (phase 1) to the end of the propulsive stroke (phase 2), representing the rapidity of the escape response. All behavioral endpoints calculation were performed using custom-written scripts in R. Although fish were similar in size, potential size differences were minimized by standardizing distance and COM velocity as proportion of body lengths (distance: BL; COM velocity: BL s-1).


